{"version":3,"sources":["components/Button/Button.jsx","components/Home/Home.jsx","data_fetcher/QuizFetcher.js","models/Quiz.js","components/Quiz/Quiz.jsx","App.jsx","index.js"],"names":["Button","onClickHandler","props","className","onClick","this","children","React","Component","Home","history","push","QuizFetcher","axios","get","response","data","Quiz","question","correctAnswer","incorrectAnswers","_question","_correctAnswer","_incorrectAnswers","_","shuffle","answer","fetch","quizDataList","results","map","result","he","decode","correct_answer","incorrect_answers","str","quizData","state","quizzes","currentIndex","numberOfCorrects","restart","setState","QuizModel","fetchAndCreateQuizzes","quiz","judgeCorrectAnswer","alert","length","renderLoading","renderQuiz","renderResult","to","answers","shuffleAnswers","index","key","selectAnswer","id","restrt","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cee43402.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Button.css\";\r\n\r\nclass Button extends React.Component {\r\n  onClickHandler = () => {\r\n    if (typeof this.props.onClickHandler === \"function\") {\r\n      this.props.onClickHandler();\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <span className=\"button-container\" onClick={() => this.onClickHandler()}>\r\n        {this.props.children}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport Button from \"./../Button/Button\";\r\n\r\nconst Home = ({ history }) => {\r\n  return (\r\n    <div>\r\n      <h1>Home</h1>\r\n      <Button\r\n        onClickHandler={() => {\r\n          history.push(\"/quiz\");\r\n        }}\r\n      >\r\n        クイズページへ移動\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import axios from \"axios\";\r\n\r\nconst API_URL =\r\n  \"https://opentdb.com/api.php?amount=10&category=21&difficulty=easy&type=multiple\";\r\n\r\nclass QuizFetcher {\r\n  static async fetch() {\r\n    const response = await axios.get(API_URL);\r\n    return response.data;\r\n  }\r\n}\r\n\r\nexport default QuizFetcher;\r\n","import _ from \"lodash\";\r\nimport he from \"he\";\r\nimport QuizFetcher from \"../data_fetcher/QuizFetcher\";\r\n\r\nclass Quiz {\r\n  constructor({ question, correctAnswer, incorrectAnswers }) {\r\n    this._question = question;\r\n    this._correctAnswer = correctAnswer;\r\n    this._incorrectAnswers = [...incorrectAnswers];\r\n  }\r\n  get question() {\r\n    return this._question;\r\n  }\r\n  get correctAnswer() {\r\n    return this._correctAnswer;\r\n  }\r\n  shuffleAnswers() {\r\n    return _.shuffle([this._correctAnswer, ...this._incorrectAnswers]);\r\n  }\r\n  judgeCorrectAnswer(answer) {\r\n    return answer === this._correctAnswer;\r\n  }\r\n  static async fetchAndCreateQuizzes() {\r\n    const quizDataList = await QuizFetcher.fetch();\r\n    return quizDataList.results\r\n      .map(result => {\r\n        return {\r\n          question: he.decode(result.question),\r\n          correctAnswer: he.decode(result.correct_answer),\r\n          incorrectAnswers: result.incorrect_answers.map(str => he.decode(str))\r\n        };\r\n      })\r\n      .map(quizData => {\r\n        return new Quiz(quizData);\r\n      });\r\n  }\r\n}\r\n\r\nexport default Quiz;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport QuizModel from \"./../../models/Quiz\";\r\nimport Button from \"./../Button/Button\";\r\nimport \"./Quiz.css\";\r\n\r\nclass Quiz extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      quizzes: [],\r\n      currentIndex: 0,\r\n      numberOfCorrects: 0\r\n    };\r\n  }\r\n  async componentDidMount() {\r\n    await this.restart();\r\n  }\r\n  async restart() {\r\n    this.setState({\r\n      quizzes: [],\r\n      currentIndex: 0,\r\n      numberOfCorrects: 0\r\n    });\r\n    const quizzes = await QuizModel.fetchAndCreateQuizzes();\r\n    this.setState({ quizzes });\r\n  }\r\n  selectAnswer(quiz, answer) {\r\n    let { currentIndex, numberOfCorrects } = this.state;\r\n    const isCorrect = quiz.judgeCorrectAnswer(answer);\r\n    if (isCorrect) {\r\n      numberOfCorrects++;\r\n      alert(\"Correct Answer!!\");\r\n    } else {\r\n      alert(`Wrong answer... (the correct answer is \"${quiz.correctAnswer})\"`);\r\n    }\r\n    currentIndex++;\r\n    this.setState({\r\n      currentIndex,\r\n      numberOfCorrects\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { quizzes, currentIndex } = this.state;\r\n\r\n    if (quizzes.length === 0) {\r\n      return this.renderLoading();\r\n    }\r\n    if (quizzes.length > 0 && currentIndex < quizzes.length) {\r\n      return this.renderQuiz();\r\n    }\r\n    if (quizzes.length > 0 && currentIndex >= quizzes.length) {\r\n      return this.renderResult();\r\n    }\r\n    return <h1>Quiz1です</h1>;\r\n  }\r\n  renderLoading() {\r\n    return (\r\n      <div>\r\n        <h1>クイズページ</h1>\r\n        <p>Now loading...</p>\r\n        <hr />\r\n        <Link to=\"/\">トップページへ</Link>\r\n      </div>\r\n    );\r\n  }\r\n  renderQuiz() {\r\n    const { currentIndex, quizzes } = this.state;\r\n\r\n    const quiz = quizzes[currentIndex];\r\n    const answers = quiz.shuffleAnswers().map((answer, index) => {\r\n      return (\r\n        <li key={index}>\r\n          <Button\r\n            onClickHandler={() => {\r\n              this.selectAnswer(quiz, answer);\r\n            }}\r\n          >\r\n            {answer}\r\n          </Button>\r\n        </li>\r\n      );\r\n    });\r\n    return (\r\n      <div>\r\n        <h1>クイズページ</h1>\r\n        <div>\r\n          <p>{quiz.question}</p>\r\n          <ul className=\"QuizList\">{answers}</ul>\r\n        </div>\r\n        <hr />\r\n        <Link to=\"/\">トップページ</Link>\r\n      </div>\r\n    );\r\n  }\r\n  renderResult() {\r\n    const { quizzes, numberOfCorrects } = this.state;\r\n    return (\r\n      <div>\r\n        <h1>クイズページ</h1>\r\n        <div>\r\n          <p id=\"result\">{`${numberOfCorrects}/${quizzes.length} corrects.`}</p>\r\n          <Button\r\n            onClickHandler={() => {\r\n              this.restrt();\r\n            }}\r\n          >\r\n            Restart\r\n          </Button>\r\n        </div>\r\n        <hr />\r\n        <Link to=\"/\">トップページ</Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Quiz;\r\n","import React from \"react\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\nimport Home from \"./components/Home/Home\";\nimport Quiz from \"./components/Quiz/Quiz\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Router>\n        <Route path=\"/\" exact component={Home} />\n        <Route path=\"/Quiz\" exact component={Quiz} />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}